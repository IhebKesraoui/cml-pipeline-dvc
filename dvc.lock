schema: '2.0'
stages:
  transformation_en_csv:
    cmd: python src/tdms_to_csv.py
    deps:
    - path: data
      hash: md5
      md5: e6d9e2599e26a4245aa16c4836b9331a.dir
      size: 70872954
      nfiles: 2
  convert_tdms:
    cmd: python src/data_preprocess/tdms_to_df.py data out
    deps:
    - path: data
      hash: md5
      md5: a0c5f87147becfc6b4ac9761c2fd183e.dir
      size: 88602201
      nfiles: 3
    - path: src/data_preprocess/tdms_to_df.py
      hash: md5
      md5: 64b8b243e3787291f41402e5164ed6c8
      size: 1755
  rename_channels:
    cmd: python src/data_preprocess/rename_channels.py out intermidiate_files/rename_map.yaml
      out
    deps:
    - path: intermidiate_files/rename_map.yaml
      hash: md5
      md5: d41d8cd98f00b204e9800998ecf8427e
      size: 0
    - path: out
      hash: md5
      md5: 330b44b8b5c548592bec9d20a1a4c777.dir
      size: 87845512
      nfiles: 3
    - path: src/data_preprocess/rename_channels.py
      hash: md5
      md5: 46cab4ccc190358032225e3acfecfd3d
      size: 2439
  merge_bench_line:
    cmd: python src/data_preprocess/merge_bench_line.py out out
    deps:
    - path: out
      hash: md5
      md5: 37f30ccc9dde525afc117c8c3caa7c20.dir
      size: 83527519
      nfiles: 3
    - path: src/data_preprocess/merge_bench_line.py
      hash: md5
      md5: e2be9361abb3cc94f4ebb84b2f4a2015
      size: 2610
  drop_columns:
    cmd: python src/data_preprocess/drop_columns.py out intermidiate_files/drop_file.txt
      out
    deps:
    - path: intermidiate_files/drop_file.txt
      hash: md5
      md5: d41d8cd98f00b204e9800998ecf8427e
      size: 0
    - path: out
      hash: md5
      md5: c3bf99252923e3e8a6fec8751cd7fcea.dir
      size: 83527528
      nfiles: 3
    - path: src/data_preprocess/drop_columns.py
      hash: md5
      md5: 998f3d7a7665fa91da0e0ddf849ba4d6
      size: 2549
  convert_to_csv:
    cmd: python src/data_preprocess/df_to_csv.py out csv_out
    deps:
    - path: out
      hash: md5
      md5: c3bf99252923e3e8a6fec8751cd7fcea.dir
      size: 83527528
      nfiles: 3
    - path: src/data_preprocess/df_to_csv.py
      hash: md5
      md5: cf65f67ae0935d603b12f6b3f3ea9f51
      size: 1119
  unit_tests:
    cmd:
    - python -m unittest src/tests/test_tdms_to_df.py
    - python src/tests/test_rename_channels.py
    deps:
    - path: data
      hash: md5
      md5: f7be1703276a07cbe35064a9a7ef5381.dir
      size: 70898873
      nfiles: 3
    - path: intermidiate_files/rename_map.yaml
      hash: md5
      md5: 81051bcc2cf1bedf378224b0a93e2877
      size: 2
    - path: out
      hash: md5
      md5: 3dc0409f694aca405c5b08381375ed9c.dir
      size: 70282381
      nfiles: 3
    - path: src/tests/drop_columns_test.py
      hash: md5
      md5: 81d0bc8e4eda689d26d9f09a9331c2a7
      size: 1417
    - path: src/tests/test_rename_channels.py
      hash: md5
      md5: f5356b1918f358db95f274820a8853bb
      size: 2240
    - path: src/tests/test_tdms_to_df.py
      hash: md5
      md5: d1f011252d18bed12ef4ed9e029d4d71
      size: 945
  merge_tests:
    cmd: python -m unittest src/tests/merge_bench_line_test.py
    deps:
    - path: out
      hash: md5
      md5: 5c3fe16e8c4aa12943db0a7cd6e64595.dir
      size: 66828118
      nfiles: 3
    - path: src/tests/merge_bench_line_test.py
      hash: md5
      md5: 33127d3923db6572f68edcdd203215ae
      size: 1917
  drop_tests:
    cmd: python  src/tests/drop_columns_test.py
    deps:
    - path: intermidiate_files/drop_file.txt
      hash: md5
      md5: 953c93539d5ecdfe9e92e62feb0d7b75
      size: 25
    - path: out
      hash: md5
      md5: 5c3fe16e8c4aa12943db0a7cd6e64595.dir
      size: 66828118
      nfiles: 3
    - path: src/tests/drop_columns_test.py
      hash: md5
      md5: 81d0bc8e4eda689d26d9f09a9331c2a7
      size: 1417
  push_csv_to_warehouse:
    cmd: python src/data_preprocess/push_csv_out.py out csv_out
    deps:
    - path: out
      hash: md5

      md5: c3bf99252923e3e8a6fec8751cd7fcea.dir
      size: 83527528
      nfiles: 3

    - path: src/data_preprocess/push_csv_out.py
      hash: md5
      md5: 58feda99d99f0968fc8e6849520de868
      size: 462
